!function(t){var e={};function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([function(t,e,a){var i;t.exports=((i=function(){function t(t){return n.appendChild(t.dom),t}function e(t){for(var e=0;e<n.children.length;e++)n.children[e].style.display=e===t?"block":"none";a=t}var a=0,n=document.createElement("div");n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",(function(t){t.preventDefault(),e(++a%n.children.length)}),!1);var s=(performance||Date).now(),r=s,h=0,l=t(new i.Panel("FPS","#0ff","#002")),o=t(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=t(new i.Panel("MB","#f08","#201"));return e(0),{REVISION:16,dom:n,addPanel:t,showPanel:e,begin:function(){s=(performance||Date).now()},end:function(){h++;var t=(performance||Date).now();if(o.update(t-s,200),t>r+1e3&&(l.update(1e3*h/(t-r),100),r=t,h=0,d)){var e=performance.memory;d.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){s=this.end()},domElement:n,setMode:e}}).Panel=function(t,e,a){var i=1/0,n=0,s=Math.round,r=s(window.devicePixelRatio||1),h=80*r,l=48*r,o=3*r,d=2*r,c=3*r,u=15*r,f=74*r,p=30*r,y=document.createElement("canvas");y.width=h,y.height=l,y.style.cssText="width:80px;height:48px";var m=y.getContext("2d");return m.font="bold "+9*r+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=a,m.fillRect(0,0,h,l),m.fillStyle=e,m.fillText(t,o,d),m.fillRect(c,u,f,p),m.fillStyle=a,m.globalAlpha=.9,m.fillRect(c,u,f,p),{dom:y,update:function(l,P){i=Math.min(i,l),n=Math.max(n,l),m.fillStyle=a,m.globalAlpha=1,m.fillRect(0,0,h,u),m.fillStyle=e,m.fillText(s(l)+" "+t+" ("+s(i)+"-"+s(n)+")",o,d),m.drawImage(y,c+r,u,f-r,p,c,u,f-r,p),m.fillRect(c+f-r,u,r,p),m.fillStyle=a,m.globalAlpha=.9,m.fillRect(c+f-r,u,r,s((1-l/P)*p))}}},i)},function(t,e,a){"use strict";a.r(e);const i=document.getElementById("canvas"),n=i.getContext("2d");let s=i.clientHeight,r=i.clientWidth;i.width=r,i.height=s;const h={blueOne:"#69D2E7",blueTwo:"#A7DBD8",goldFishOne:"#F38630",goldFishTwo:"#FA6900"},l={x:r/2,y:s/2,radius:s/80,vx:0,vy:0,theta:0,maxSpeed:10,speedDelta:.2,thetaDelta:.1},o=[];o.push(...new Array(3).fill("jumper")),o.push(...new Array(10).fill("simple"));const d=[],c={elapsed:0,enemyCount:25,stage:1};function u(t,e,a,i,n){return{x:Math.cos(n)*(t-a)-Math.sin(n)*(e-i)+a,y:Math.sin(n)*(t-a)+Math.cos(n)*(e-i)+i}}function f(t,e,a){return t*(1-a)+e*a}class p{constructor(t,e,a,i,n,s){this.size=t,this.cycleTime=e,this.vx=a,this.x=i,this.y=n,this.scrolldirection=s,this.vertices=4,this.tailSide=1.3*this.size,this.tailHeight=this.tailSide*Math.sqrt(3)/2,this.coords=[[0,this.tailSide/2],[-this.tailSide/2,this.tailHeight+this.size/2],[this.tailSide/2,this.tailHeight+this.size/2],[0,this.tailSide/2]],this.currentCoords}reposition(t){this.cycleTime,this.cycleTime;const e=[];"left"===this.scrolldirection?this.x-=this.vx:this.x+=this.vx,this.coords.map((a,i)=>{const n=this.x+a[0],s=this.y+a[1];let r;r="left"===this.scrolldirection?-Math.PI/2:Math.PI/2;const h=Math.PI/16*Math.sin(t/this.cycleTime),l=u(n,s,this.x,this.y,r+h);e.push([l.x,l.y])}),this.currentCoords=e}render(t,e){this.reposition(e),t.beginPath(),t.arc(this.x,this.y,this.size,0,2*Math.PI),t.fill(),t.closePath(),t.beginPath(),this.currentCoords.map((e,a)=>{0===a?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])}),t.fill(),t.closePath()}}var y=a(0);const m=new(a.n(y).a);function P(t){if(m.begin(),n.clearRect(0,0,r,s),n.fillStyle=h.blueOne,n.fillRect(0,0,r,s),Math.sqrt(l.vx*l.vx+l.vy*l.vy),l.leftPressed&&(l.vx-=l.speedDelta,l.theta>Math.PI/2?l.theta=f(l.theta,3*Math.PI/2,l.thetaDelta):l.theta<=Math.PI/2&&(l.theta=f(l.theta,-Math.PI/2,l.thetaDelta))),l.upPressed&&(l.vy-=l.speedDelta,l.theta<Math.PI&&l.theta>=0?l.theta=f(l.theta,0,l.thetaDelta):l.theta=f(l.theta,2*Math.PI,l.thetaDelta)),l.rightPressed&&(l.vx+=l.speedDelta,l.theta<3*Math.PI/2&&l.theta>=Math.PI/2?l.theta=f(l.theta,Math.PI/2,l.thetaDelta):l.theta>=3*Math.PI/2?l.theta=f(l.theta,5*Math.PI/2,l.thetaDelta):l.theta=f(l.theta,Math.PI/2,l.thetaDelta)),l.downPressed&&(l.vy+=l.speedDelta,l.theta=f(l.theta,Math.PI,l.thetaDelta)),l.theta>2*Math.PI?l.theta=l.theta-2*Math.PI:l.theta<0&&(l.theta=2*l.theta+2*Math.PI),l.x+=l.vx,l.y+=l.vy,l.x>=r+l.radius?l.x=-l.radius:l.x<=-l.radius&&(l.x=r+l.radius),l.y>=s+l.radius?l.y=-l.radius:l.y<=-l.radius&&(l.y=s+l.radius),function(){n.fillStyle=h.goldFishTwo,n.beginPath(),n.arc(l.x,l.y,l.radius,0,2*Math.PI),n.fill(),n.closePath();const t=1.5*l.radius,e=t*Math.sqrt(3)/2,a=[[l.x,l.y+l.radius/2],[l.x-t/2,l.y+e+l.radius/2],[l.x+t/2,l.y+e+l.radius/2],[l.x,l.y+l.radius/2]];n.beginPath(),a.map((t,e)=>{const a=u(t[0],t[1],l.x,l.y,l.theta);0===e?n.moveTo(a.x,a.y):n.lineTo(a.x,a.y)}),n.fill(),n.closePath(),n.save()}(),d.length<c.enemyCount&&Math.random()>.9){switch(o[Math.floor(Math.random()*o.length)]){case"simple":{const t=s/110+s/18*Math.random(),e=30+t,a=2-t/100+Math.random(),i=Math.random()>=.5?"left":"right",n="right"===i?-t:r+t,h=Math.random()*s;d.push(new p(t,e,a,n,h,i));break}}}d.map(e=>{e.render(n,t)}),m.end(),requestAnimationFrame(P)}function x(t){switch(t.which||t.keyCode){case 37:l.leftPressed=!0;break;case 38:l.upPressed=!0;break;case 39:l.rightPressed=!0;break;case 40:l.downPressed=!0}}function v(t){switch(t.which||t.keyCode){case 37:l.leftPressed=!1;break;case 38:l.upPressed=!1;break;case 39:l.rightPressed=!1;break;case 40:l.downPressed=!1}}m.showPanel(0),document.body.append(m.dom),document.addEventListener("keydown",x,!1),document.addEventListener("keyup",v,!1),document.addEventListener("resize",()=>{height=i.clientHeight,width=i.clientWidth,i.width=width,i.height=height},!1),P(0)}]);